<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Availability Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .pass { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
    
    <!-- Load modules first -->
    <script src="js/utils.js"></script>
    <script src="js/dice-roller.js"></script>
    <script src="js/state-manager.js"></script>
    <script src="js/table-processor.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/print-generator.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
    <h1>Function Availability Test</h1>
    <div id="results"></div>
    
    <!-- Minimal required HTML elements to prevent errors -->
    <div id="scenarioToggle" style="display:none;"></div>
    <div id="tableSelection" style="display:none;"></div>
    <div id="rollInputSection" style="display:none;"></div>
    <div id="variableSelectionSection" style="display:none;"></div>
    <div id="resultsDisplay" style="display:none;"></div>
    <button id="debugModeButton" style="display:none;"></button>
    <div id="debugStatus" style="display:none;"></div>
    
    <script>
        // Stub functions that would normally be in index.html
        // These are defined here just for testing
        window.makeRollsWithVariables = function() { return 'stub'; };
        window.viewTableWithVariables = function() { return 'stub'; };
        window.makeRolls = function() { return 'stub'; };
        
        function addResult(status, message) {
            const div = document.createElement('div');
            div.className = `test-result ${status}`;
            div.textContent = message;
            document.getElementById('results').appendChild(div);
        }
        
        function testFunctionAvailability() {
            const functionsToTest = [
                'makeRollsWithVariables',
                'viewTableWithVariables', 
                'makeRolls',
                'setScenarioDate',
                'selectTable',
                'cancelSelection',
                'cancelVariableSelection',
                'getAppState',
                'updateResultsDisplay'
            ];
            
            functionsToTest.forEach(funcName => {
                if (typeof window[funcName] === 'function') {
                    addResult('pass', `✓ ${funcName} is available`);
                } else {
                    addResult('fail', `✗ ${funcName} is NOT available`);
                }
            });
        }
        
        // Wait a bit for modules to load
        setTimeout(testFunctionAvailability, 1000);
    </script>
</body>
</html>